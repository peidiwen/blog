import{T,E as w}from"./index.esm.70c0504e.js";import{d as A,m as s,E as D,G as R,H as U,l as N,b as f,e as k,n as m,f as a,w as i,h as d,F as z,R as I,i as q,q as H,o as J,g as M,v as O,p as S,J as G,z as W,y as $}from"./index.16beb423.js";const j={class:"article_info"},K={style:{border:"1px solid #ccc"}},L={class:"push"},P=M(" \u4FEE\u6539 "),Q=A({__name:"changeArticle",setup(X){let t=s([{id:"",title:"null",description:"null",article:"null",msg1:[]}]);const g=I(),p=D(),r=s("<p>hello</p>");R(()=>{setTimeout(()=>{r.value=t.value[0].article,e.value.titleValue=t.value[0].title,e.value.descriptionValue=t.value[0].description,e.value.dynamicTagsValue=t.value[0].msg1},1500)});const V={},h={placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9..."};U(()=>{const u=p.value;u!=null&&u.destroy()});const y=u=>{p.value=u};let _=N();const e=s({titleValue:t.value[0].title,descriptionValue:t.value[0].description,dynamicTagsValue:t.value[0].msg1});f.get("/getAll",{params:{id:g.query.id}}).then(u=>{t.value=u.data});function b(){let u=s([r.value,e.value.titleValue,e.value.descriptionValue,{tags:[...e.value.dynamicTagsValue]},t.value[0].id]),l=JSON.stringify(u.value),n=s([]);n.value=e.value.dynamicTagsValue,n._rawValue.length>0?r.value!="<p><br></p>"&&e.value.titleValue&&e.value.descriptionValue&&n._rawValue?new Set(n._rawValue).size===n._rawValue.length?f.post("/changeArticle",{data:l}).then(c=>{_.success("\u4FEE\u6539\u6210\u529F")}):_.error("\u6807\u7B7E\u91CD\u590D"):_.error("\u8BF7\u586B\u5199\u5B8C\u6574"):_.error("\u6807\u7B7E\u4E0D\u80FD\u5C11\u4E8E\u4E00\u4E2A")}let v="default",E=s(!1);return(u,l)=>{const n=O,c=S,B=G,C=W,x=q,F=H;return J(),k(z,null,[m("div",j,[a(x,{vertical:""},{default:i(()=>[a(C,{ref:"formRef",model:e.value,"label-placement":"left","label-width":160,disabled:d(E),style:{maxWidth:"640px"}},{default:i(()=>[a(c,{label:"\u6807\u9898",path:"titleValue"},{default:i(()=>[a(n,{value:e.value.titleValue,"onUpdate:value":l[0]||(l[0]=o=>e.value.titleValue=o),placeholder:"Input"},null,8,["value"])]),_:1}),a(c,{label:"\u63CF\u8FF0",path:"descriptionValue"},{default:i(()=>[a(n,{value:e.value.descriptionValue,"onUpdate:value":l[1]||(l[1]=o=>e.value.descriptionValue=o),placeholder:"Input"},null,8,["value"])]),_:1}),a(c,{label:"\u6807\u7B7E",path:"dynamicTagsValue"},{default:i(()=>[a(B,{value:e.value.dynamicTagsValue,"onUpdate:value":l[2]||(l[2]=o=>e.value.dynamicTagsValue=o)},null,8,["value"])]),_:1})]),_:1},8,["model","disabled"])]),_:1})]),m("div",K,[a(d(T),{style:{"border-bottom":"1px solid #ccc"},editor:d(p),defaultConfig:V,mode:d(v)},null,8,["editor","mode"]),a(d(w),{style:{height:"500px","overflow-y":"hidden"},modelValue:r.value,"onUpdate:modelValue":l[3]||(l[3]=o=>r.value=o),defaultConfig:h,mode:d(v),onOnCreated:y},null,8,["modelValue","mode"])]),m("div",L,[a(F,{type:"info",size:"large",onClick:l[4]||(l[4]=o=>b())},{default:i(()=>[P]),_:1})])],64)}}});const ee=$(Q,[["__scopeId","data-v-1885f856"]]);export{ee as default};
